<!DOCTYPE html>
<html lang="en">
<!-- &display=swap -->

<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="css/stile.css" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>js</title>
</head>

<body>
  <div class="wrapper">
    <header class="header"></header>
    <main class="main__container">
      <h2>Задача 1. Описати масив об’єктів – сайтів розроблених компанією з такими властивостями

      </h2>
      <script>
        const websites = [
          {
            companyName: "Company A",
            owner: "Owner A",
            sponsors: [
              { lastName: "Sponsor1", firstName: "John", investment: 50000 },
              { lastName: "Sponsor2", firstName: "Jane", investment: 75000 }
            ],
            year: 1998,
            cost: 9500,
          },
          {
            companyName: "Company B",
            owner: "Owner B",
            sponsors: [
              { lastName: "Sponsor3", firstName: "Alice", investment: 80000 },
              { lastName: "Sponsor4", firstName: "Bob", investment: 40000 }
            ],
            year: 2003,
            cost: 12000,
          },
          {
            companyName: "Company C",
            owner: "Owner C",
            sponsors: [
              { lastName: "Sponsor5", firstName: "Eva", investment: 60000 },
              { lastName: "Sponsor6", firstName: "David", investment: 35000 }
            ],
            year: 2010,
            cost: 15000,
          },
          {
            companyName: "Company D",
            owner: "Owner D",
            sponsors: [
              { lastName: "Sponsor7", firstName: "Sophia", investment: 75000 }
            ],
            year: 2005,
            cost: 9000,
          },
          {
            companyName: "Company E",
            owner: "Owner E",
            sponsors: [
              { lastName: "Sponsor8", firstName: "Jon", investment: 650000 }
            ],
            year: 2014,
            cost: 11000,
          }
        ];
        console.log(websites);

        // 1) загальну вартість усіх сайтів
        let totalCostSites = websites.reduce((totalCost, el) => totalCost + el.cost, 0)
        console.log(totalCostSites);
        document.write(`загальну вартість усіх сайтів-${totalCostSites}<br>`);

        // 2) кількість сайтів, що було зроблено між 2000 та 2009 рр.
        let totalDateCreation = websites.reduce((dataCreat, web) => web.year < 2009 && web.year > 2000 ? dataCreat + 1 : dataCreat, 0)
        document.write(`кількість сайтів, що було зроблено між 2000 та 2009 рр.-${totalDateCreation}<br>`);

        // 3) кількість сайтів, де сума спонсорських вкладень була більшою за 100000

        let totalCostMore100000Sites = 0
        for (const al of websites) {
          let sum = 0
          for (let i = 0; i < al.sponsors.length; i++) {
            sum += al.sponsors[i].investment
          }
          sum > 100000 ? totalCostMore100000Sites++ : totalCostMore100000Sites
        }
        document.write(`кількість сайтів, де сума спонсорських вкладень була більшою за 100000 -${totalCostMore100000Sites}<br>`);

        // 4) створити загальний список усіх спонсорів (поки можуть повторюватись, просто зібрати усі у масив)

        let totalListSponsors = []
        for (const al of websites) {
          for (let i = 0; i < al.sponsors.length; i++) {
            totalListSponsors.push(al.sponsors[i])
          }
        }
        console.log(totalListSponsors);
        // 5) знайти рік, коли прибуток був найбільшим

        let maxProfitYear = 0,
          maxProfit = 0
        for (const al of websites) {
          if (maxProfit < al.cost) {
            maxProfit = al.cost
            maxProfitYear = al.year
          }
        }
        document.write(`рік, коли прибуток був найбільшим-${maxProfitYear}`);

        // 6) упорядкувати список за спаданням прибутку
        let websitesCopy = [...websites]
        let maxForMinProfit = websitesCopy.sort((al1, al2) => {
          let el1 = al1.cost,
            el2 = al2.cost
          return el2 - el1
        }
        )
        console.log(maxForMinProfit);
        // 7) Створити 2 окремих списки з копіями об’єктів, що містять сайти з вартість до 10000 і більше 10000
        let sitesList10000More = [],
          sitesList10000Max = []
        for (const al of websites) {
          al.cost > 10000 ? sitesList10000More.push(al) : sitesList10000Max.push(al)
        }
        console.log(sitesList10000Max);
        console.log(sitesList10000More);

        // Задача 2. Розробити функцію, у яку передають об’єкт (день, місяць, рік). Визначити, який буде рік через N місяців.

        let data = {
          day: 12,
          math: 6,
          year: 2020,
        }
        function calcYear(data, numManth) {
          if (data.math + numManth <= 12) return data.year
          else
            return data.year + Math.floor((data.math + numManth) / 12)
        }
        let rez = calcYear(data, 12)
        console.log(rez);

        // Задача 3. Ось приклад відповіді з одного з сайтів (масив об’єктів з інформацією про товари) 
        let dataList = [
          {
            id: 344277463,
            old_price: 1395,
            old_usd_price: '37.70',
            price: 1099,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '29.70',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 363766641,
            old_price: 0,
            old_usd_price: '0.00',
            price: 90,
            min_month_price: 0,
            sell_status: 'unavailable',
            status: 'active',
            usd_price: '2.43',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 339273715,
            old_price: 38,
            old_usd_price: '1.03',
            price: 25,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '0.68',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 330746665,
            old_price: 3087,
            old_usd_price: '83.43',
            price: 2548,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '68.86',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 344972806,
            old_price: 699,
            old_usd_price: '18.89',
            price: 549,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '14.84',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 318302299,
            old_price: 0,
            old_usd_price: '0.00',
            price: 8500,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '229.73',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 361430565,
            old_price: 3500,
            old_usd_price: '94.59',
            price: 1999,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '54.03',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 14429030,
            old_price: 3339,
            old_usd_price: '90.24',
            price: 2999,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '81.05',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 56340912,
            old_price: 2094,
            old_usd_price: '56.59',
            price: 1776,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '48.00',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 315292225,
            old_price: 1799,
            old_usd_price: '48.62',
            price: 1499,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '40.51',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 28437961,
            old_price: 42999,
            old_usd_price: '1162.14',
            price: 33999,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '918.89',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 339896833,
            old_price: 6399,
            old_usd_price: '172.95',
            price: 5899,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '159.43',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 364354149,
            old_price: 1600,
            old_usd_price: '43.24',
            price: 1500,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '40.54',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 363184995,
            old_price: 0,
            old_usd_price: '0.00',
            price: 4499,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '121.59',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 98077846,
            old_price: 0,
            old_usd_price: '0.00',
            price: 3113,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '84.14',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 310694668,
            old_price: 0,
            old_usd_price: '0.00',
            price: 3000,
            min_month_price: 0,
            sell_status: 'unavailable',
            status: 'active',
            usd_price: '81.08',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 362812029,
            old_price: 0,
            old_usd_price: '0.00',
            price: 21700,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '586.49',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 361422708,
            old_price: 4100,
            old_usd_price: '110.81',
            price: 2699,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '72.95',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 318302257,
            old_price: 0,
            old_usd_price: '0.00',
            price: 8500,
            min_month_price: 0,
            sell_status: 'unavailable',
            status: 'active',
            usd_price: '229.73',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 310694498,
            old_price: 0,
            old_usd_price: '0.00',
            price: 2963,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '80.08',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 363651273,
            old_price: 5199,
            old_usd_price: '140.51',
            price: 4890,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '132.16',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 330747022,
            old_price: 3087,
            old_usd_price: '83.43',
            price: 2606,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '70.43',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 362617635,
            old_price: 4872,
            old_usd_price: '131.68',
            price: 2436,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '65.84',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
          {
            id: 363614439,
            old_price: 5199,
            old_usd_price: '140.51',
            price: 4890,
            min_month_price: 0,
            sell_status: 'available',
            status: 'active',
            usd_price: '132.16',
            pl_charge_pcs: 0,
            pl_use_instant_bonus: false,
            pl_premium_bonus_charge_pcs: 0,
            rests: -1,
            min_price: 0,
            max_price: 0,
            has_shops: false,
            info: null,
            show_in_site: null,
          },
        ]
        // 1) Загальну вартість (нові ціни)

        let newPrice = dataList.reduce((sumPrice, al) => sumPrice + al.price, 0)
        console.log(newPrice);

        // 2)Знайти кількість товарів, у яких ціна зменшилась (price < old_price).
        let numberProductLessOldPrice = dataList.reduce((calcProduct, al) => al.price < al.old_price ? ++calcProduct : calcProduct, 0)
        console.log(numberProductLessOldPrice);

        // 3) Товари, які доступні (sell_status:"available")
        let productsAvalible = dataList.filter((al) => al.sell_status === 'available')
        console.log(productsAvalible);
        // 4) сформувати новий список об”єктів тільки доступних  для продажу товарів,
        //  які міститимуть тільки ідентифікатор товару (id), нову ціну (price), стару ціну (old_price), та ціну у доларах (usd_price)

        let newDataList = dataList.filter((al) => al.sell_status === 'available').map((price) => ({
          id: price.id,
          price: price.price,
          old_price: price.old_price,
          usd_price: price.usd_price,
        }))
        console.log(newDataList);
      </script>
    </main>
    <footer class="footer">

    </footer>
  </div>
</body>

</html>
</script>
</main>
<footer class="footer"></footer>
</div>
</body>

</html>